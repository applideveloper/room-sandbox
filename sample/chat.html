<html>
<head>
<title>Chat sample</title>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
</head>
<body>
<h1>Chat</h1>
<div>
Name: <input type="text" id="name" size="10"> 
Message: <input type="text" id="message" size="40">
</div>
<div id="logs">
</div>
<script>
$(function() {
	var ws = new WebSocket("ws://localhost:9000/tomodachigaimasen"),
		$logs = $("#logs"),
		$msg = $("#message"),
		$name = $("#name");
	ws.onmessage = function(event) {
		var $p = $("<p/>");
		$p.append(event.data);
		$logs.append($p);
	}
	$msg.keydown(function(event) {
		if (event.keyCode == 13) {
			var msg = ($name.val() || "NoName") + ": " + $msg.val();
			ws.send(msg);
			$msg.val("");
		}
	});
})
</script>
</body>
</html>